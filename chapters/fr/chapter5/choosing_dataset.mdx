# Choisir un jeu de donn√©es

Comme pour tout probl√®me d'apprentissage automatique, la qualit√© de notre mod√®le d√©pend des donn√©es sur lesquelles nous l'entra√Ænons. Les jeux de donn√©es de reconnaissance vocale varient consid√©rablement dans la fa√ßon dont ils sont g√©r√©s et dans les domaines qu'ils couvrent. Pour choisir le bon jeu de donn√©es, nous devons faire correspondre nos crit√®res aux caract√©ristiques offertes par un jeu de donn√©es.

Avant de choisir un jeu de donn√©es, nous devons d'abord comprendre les principales caract√©ristiques qui le d√©finissent.

## Caract√©ristiques des jeux de donn√©es vocaux

### 1. Nombre d'heures

En termes simples, le nombre d'heures d'entra√Ænement indique la taille du jeu de donn√©es. Il est analogue au nombre d'exemples d'entra√Ænement dans un jeu de donn√©es de NLP. Toutefois, les jeux de donn√©es plus importants ne sont pas n√©cessairement meilleurs. Si nous voulons un mod√®le qui g√©n√©ralise bien, nous avons besoin d'un jeu de donn√©es **vari√©** avec beaucoup de locuteurs, de domaines et de styles d'expression diff√©rents.

### 2. Domaine

Le domaine est l'endroit d'o√π proviennent les donn√©es, qu'il s'agisse de livres audio, de podcasts, de YouTube ou de r√©unions professionnelles.
Chaque domaine a une distribution de donn√©es diff√©rente. Par exemple, les livres audio sont enregistr√©s dans des conditions de studio, en haute qualit√© (sans bruit de fond) et le texte est tir√© de la litt√©rature. En revanche, pour YouTube, l'audio contient probablement plus de bruits de fond et un style de discours plus informel.

Nous devons faire correspondre notre domaine aux conditions que nous pr√©voyons au moment de l'inf√©rence. Par exemple, si nous entra√Ænons notre mod√®le sur des livres audio, nous ne pouvons pas nous attendre √† ce qu'il soit performant dans des environnements bruyants.

### 3. Style d'√©locution

Le style d'√©locution peut √™tre class√© dans l'une des deux cat√©gories suivantes :

* narr√© : lu √† partir d'un script
* spontan√© : discours non sc√©naris√©, conversationnel.

Les donn√©es audio et textuelles refl√®tent le style d'√©locution. √âtant donn√© que le texte narr√© est √©crit, il a tendance √† √™tre prononc√© de mani√®re articul√©e et sans erreur :

```
‚ÄúConsider the task of training a model on a speech recognition dataset‚Äù
```

Dans le cas d'un discours spontan√©, on peut s'attendre √† un style plus familier, avec des r√©p√©titions, des h√©sitations et des faux d√©parts :

```
‚ÄúLet‚Äôs uhh let's take a look at how you'd go about training a model on uhm a sp- speech recognition dataset‚Äù
```

### 4. Style de transcription

Le style de transcription indique si le texte cible comporte de la ponctuation, de la casse ou les deux. Si nous voulons qu'un syst√®me g√©n√®re un texte enti√®rement format√© pouvant √™tre utilis√© pour la transcription d'une publication ou d'une r√©union, nous avons besoin de donn√©es d'entra√Ænement comportant de la ponctuation et des majuscules. Si nous avons simplement besoin des mots prononc√©s dans une structure non format√©e, ni la ponctuation ni la casse ne sont n√©cessaires.
Dans ce cas, nous pouvons soit choisir un jeu de donn√©es sans ponctuation ni casse, soit choisir un jeu de donn√©es avec ponctuation et casse, puis les supprimer du texte cible par le biais d'un pr√©traitement.

## R√©sum√© de jeux de donn√©es sur le *Hub*

Voici un r√©sum√© de jeux de donn√©es de reconnaissance vocale en anglais les plus populaires sur le *Hub* :

| Jeu de donn√©es                                                                          | Heures d'entra√Ænement | Domaine                      | Style d'√©locution        | Casse | Ponctuation | Licence         | Usage recommand√©                 |
|-----------------------------------------------------------------------------------------|-------------|-----------------------------|-----------------------|--------|-------------|-----------------|----------------------------------|
| [LibriSpeech](https://huggingface.co/datasets/librispeech_asr)                          | 960         | Audiobook                   | Narrated              | ‚ùå      | ‚ùå           | CC-BY-4.0       | Academic benchmarks              |
| [Common Voice 11](https://huggingface.co/datasets/mozilla-foundation/common_voice_11_0) | 3000        | Wikipedia                   | Narrated              | ‚úÖ      | ‚úÖ           | CC0-1.0         | Non-native speakers              |
| [VoxPopuli](https://huggingface.co/datasets/facebook/voxpopuli)                         | 540         | European Parliament         | Oratory               | ‚ùå      | ‚úÖ           | CC0             | Non-native speakers              |
| [TED-LIUM](https://huggingface.co/datasets/LIUM/tedlium)                                | 450         | TED talks                   | Oratory               | ‚ùå      | ‚ùå           | CC-BY-NC-ND 3.0 | Technical topics                 |
| [GigaSpeech](https://huggingface.co/datasets/speechcolab/gigaspeech)                    | 10000       | Audiobook, podcast, YouTube | Narrated, spontaneous | ‚ùå      | ‚úÖ           | apache-2.0      | Robustness over multiple domains |
| [SPGISpeech](https://huggingface.co/datasets/kensho/spgispeech)                         | 5000        | Financial meetings          | Oratory, spontaneous  | ‚úÖ      | ‚úÖ           | User Agreement  | Fully formatted transcriptions   |
| [Earnings-22](https://huggingface.co/datasets/revdotcom/earnings22)                     | 119         | Financial meetings          | Oratory, spontaneous  | ‚úÖ      | ‚úÖ           | CC-BY-SA-4.0    | Diversity of accents             |
| [AMI](https://huggingface.co/datasets/edinburghcstr/ami)                                | 100         | Meetings                    | Spontaneous           | ‚úÖ      | ‚úÖ           | CC-BY-4.0       | Noisy speech conditions          |

Ce tableau sert de r√©f√©rence pour s√©lectionner un jeu de donn√©es en fonction de vos crit√®res. Vous trouverez ci-dessous un tableau √©quivalent pour la reconnaissance vocale multilingue. Notez que nous omettons la colonne des heures d'entra√Ænement, qui varie en fonction de la langue pour chaque jeu de donn√©es, et que nous la rempla√ßons par le nombre de langues par jeu de donn√©es :

| Jeu de donn√©es                                                                                | Langues | Domaine                                | Style d'√©locution | Casse | Ponctuation | Licence   | Usage recommand√©        |
|-----------------------------------------------------------------------------------------------|-----------|---------------------------------------|----------------|--------|-------------|-----------|-------------------------|
| [Multilingual LibriSpeech](https://huggingface.co/datasets/facebook/multilingual_librispeech) | 6         | Audiobooks                            | Narrated       | ‚ùå      | ‚ùå           | CC-BY-4.0 | Academic benchmarks     |
| [Common Voice 13](https://huggingface.co/datasets/mozilla-foundation/common_voice_13_0)       | 108       | Wikipedia text & crowd-sourced speech | Narrated       | ‚úÖ      | ‚úÖ           | CC0-1.0   | Diverse speaker set     |
| [VoxPopuli](https://huggingface.co/datasets/facebook/voxpopuli)                               | 15        | European Parliament recordings        | Spontaneous    | ‚ùå      | ‚úÖ           | CC0       | European languages      |
| [FLEURS](https://huggingface.co/datasets/google/fleurs)                                       | 101       | European Parliament recordings        | Spontaneous    | ‚ùå      | ‚ùå           | CC-BY-4.0 | Multilingual evaluation |

Pour une analyse d√©taill√©e des jeux de donn√©es audio couverts dans les deux tableaux, consultez l'article de blog [*A Complete Guide to Audio Datasets*](https://huggingface.co/blog/audio-datasets#a-tour-of-audio-datasets-on-the-hub) (en anglais).
Bien qu'il existe plus de 180 jeux de donn√©es de reconnaissance vocale sur le *Hub*, il est possible qu'aucun jeu de donn√©es ne corresponde √† vos besoins. Dans ce cas, il est √©galement possible d'utiliser vos propres donn√©es audio avec ü§ó *Datasets*. Pour cr√©er un jeu de donn√©es audio personnalis√©, reportez-vous au guide [Cr√©er un jeu de donn√©es audio](https://huggingface.co/docs/datasets/audio_dataset). Lorsque vous cr√©ez un jeu de donn√©es audio personnalis√©, pensez √† partager le jeu de donn√©es final sur le *Hub* afin que d'autres membres de la communaut√© puissent b√©n√©ficier de vos efforts et appr√©cieront votre travail comme vous appr√©ciez le leur.

Tr√®s bien ! Maintenant que nous avons pass√© en revue tous les crit√®res de s√©lection d'un jeu de donn√©es d'ASR, choisissons-en un pour les besoins de ce tutoriel.
Nous savons que Whisper fait d√©j√† un tr√®s bon travail de transcription de donn√©es dans des langues √† hautes ressources (telles que l'anglais et l'espagnol), nous allons donc nous concentrer sur la transcription multilingue √† faibles ressources. Nous voulons conserver la capacit√© de Whisper √† pr√©dire la ponctuation et la casse, donc il semble, d'apr√®s le deuxi√®me tableau, que Common Voice 13 est un excellent jeu de donn√©es candidat !

## Common Voice 13

Common Voice 13 est un jeu de donn√©es *crown-sourc√©s* dans lequel des locuteurs enregistrent des textes tir√©s de Wikip√©dia dans diff√©rentes langues. Il fait partie de la s√©rie Common Voice, une collection de jeux de donn√©es publi√©s par la Fondation Mozilla. √Ä l'heure o√π nous √©crivons ces lignes, Common Voice 13 est la derni√®re √©dition du jeu de donn√©es, avec le plus grand nombre de langues et d'heures par langue de toutes les versions √† ce jour.

Nous pouvons obtenir la liste compl√®te des langues pour le jeu de donn√©es Common Voice 13 en consultant la page du jeu de donn√©es sur le *Hub* : [mozilla-foundation/common_voice_13_0](https://huggingface.co/datasets/mozilla-foundation/common_voice_13_0).
La premi√®re fois que vous consulterez cette page, il vous sera demand√© d'accepter les conditions d'utilisation. Ensuite, vous aurez un acc√®s complet au jeu de donn√©es.

Une fois que nous nous sommes authentifi√©s pour utiliser le jeu de donn√©es, son aper√ßu s'affiche montrant les 100 premiers √©chantillons du jeu de donn√©es pour chaque langue, pr√™ts √† √™tre √©cout√©s en temps r√©el. Pour cette unit√©, nous s√©lectionnerons le [_Dhivehi_](https://en.wikipedia.org/wiki/Maldivian_language) (ou _Maldivien_), une langue indo-aryenne parl√©e dans le pays insulaire d'Asie du Sud, les Maldives. Bien que nous choisissions le dhivehi pour ce tutoriel, les √©tapes couvertes ici s'appliquent √† n'importe laquelle des 108 langues de l'ensemble de donn√©es Common Voice 13, et plus g√©n√©ralement √† n'importe lequel des 180+ jeux de donn√©es audio du *Hub*. Il n'y a donc pas de restriction sur la langue ou le dialecte.

Nous pouvons s√©lectionner le sous-ensemble Dhivehi de Common Voice 13 en r√©glant le sous-ensemble sur `dv` √† l'aide du menu d√©roulant (`dv` √©tant le code d'identification de la langue pour le Dhivehi) :

<div class="flex justify-center">
    <img src="https://huggingface.co/datasets/huggingface-course/audio-course-images/resolve/main/cv_13_dv_selection.png" alt="Selecting the Dhivehi split from the Dataset's Preview">
</div>

Si nous appuyons sur le bouton de lecture du premier √©chantillon, nous pouvons √©couter le son et voir le texte correspondant. Parcourez les √©chantillons des ensembles d'entra√Ænement et de test pour vous faire une id√©e plus pr√©cise des donn√©es que nous traitons.
L'intonation et le style indiquent que les enregistrements sont issus d'un discours narr√©. Vous remarquerez √©galement la grande diversit√© des locuteurs et de la qualit√© des enregistrements, un trait commun aux donn√©es provenant de donn√©es *crown-sourc√©es*.

L'aper√ßu des donn√©es est un excellent moyen d'exp√©rimenter les donn√©es audio avant de s'engager √† les utiliser. Vous pouvez choisir n'importe quel jeu de donn√©es sur le Hub, faire d√©filer les √©chantillons et √©couter l'audio pour les diff√©rents sous-ensembles et divisions, afin d'√©valuer s'il s'agit du bon jeu de donn√©es pour vos besoins. Une fois que vous avez s√©lectionn√© un jeu de donn√©es, il est facile de charger les donn√©es afin de pouvoir commencer √† les utiliser.

Personnellement, je ne parle pas le dhivehi et je m'attends √† ce que la grande majorit√© des lecteurs ne le parlent pas non plus ! Pour savoir si notre mod√®le *finetun√©* est bon, nous aurons besoin d'un moyen rigoureux de l'_√©valuer_ sur des donn√©es in√©dites et de mesurer sa pr√©cision de transcription.
C'est exactement ce que nous allons faire dans la section suivante !
